## Отчет по лабораторной работе № 1

#### № группы: `ПМ-2402`

#### Выполнила: `Каменева Алина Дмитриевна`

#### Вариант: `10`

### Cодержание:

- [Постановка задачи](#1-постановка-задачи)
- [Входные и выходные данные](#2-входные-и-выходные-данные)
- [Выбор структуры данных](#3-выбор-структуры-данных)
- [Алгоритм](#4-алгоритм)
- [Программа](#5-программа)
- [Анализ правильности решения](#6-анализ-правильности-решения)

### 1. Постановка задачи

> Напишите программу на Java, которая выполняет следующие действия
> с двумерным массивом строк:
>
> 1. Считывает с консоли размеры массива N и М, затем элементы массива размером N × М.
> 2. Сортирует столбцы массива в порядке убывания суммарной длины строк в каждом столбце. Если суммы равны, сортирует по суммарному количеству слов в столбце.
> 3. Находит и выводит общее количество слов, которые начинаются с
>    заглавной буквы во всём массиве, а также выводит сами эти слова.
> 4. Выводит элементы массива, разворачивая каждую строку задом наперёд. Если строка является палиндромом, помечает её звёздочкой.
> 5. Заменяет в каждом элементе массива все пробелы на '-' , удаляет повторяющиеся символы и выводит полученный массив.

Данную задачу можно разделить на 5 подзадач:

1. считать массив
2. сортировать столбцы массива в порядке убывания суммарной длины строк в каждом столбце
3. найти общее количество слов, которые начинаются с заглавной буквы
4. развернуть каждую строку, палиндром пометить звёздочкой
5. заменить во всех элементах массива все пробелы на "-", удалить повторяющиеся символы

### 2. Входные и выходные данные

#### Данные на вход

На вход программа должна получать 2 натуральных числа - размеры массива (min с единицы, так как массив не будет существовать призначениях <=0), и элементы массива - слова. Верхняя и нижняя границы получаемых
чисел не даны в условии.

|                           | Тип               | min значения | max значения |
| ------------------------- | ----------------- | ------------ | ------------ |
| N (Число 1)               | Натуральное число | 1            | 10^9         |
| M (Число 2)               | Натуральное число | 1            | 10^9         |
| a[i][j] (элемент массива) | Строка            | -            | -            |

#### Данные на выход

Программа по условию выводит количество слов с большой буквы, сами эти слова и два измененных массива.
| | Тип |
| ------------ | ----------------------- |
| count | Натуральное число |  
| capitalwords | Строка |  
| массив 1 |Матрица(Двумерный массив)|  
| массив 2 |Матрица(Двумерный массив)|

### 3. Выбор структуры данных

Программа получает 2 натуральных числа и элементы массива. Поэтому для их хранения
можно выделить 2 переменных (`n`, `m`) типа `int` и строковый массив `a`.

|             | название переменной | Тип (в Java)  |
| ----------- | ------------------- | ------------- |
| n (Число 1) | `n`                 | `int`         |
| m (Число 2) | `m`                 | `int`         |
| a (массив)  | `a`                 | `String [][]` |

### 4. Алгоритм

#### Алгоритм выполнения программы:

1. **Ввод данных:**  
   Программа считывает два целых числа, обозначенные как `n` и `m` и элементы массива.
   Заполнение массива происходит при помощи вложенного цикла. Считываются числа и сохраняются в массив.

2. **Преобразования массива по условию:**
   1. При помощи вложенных списков сортируем столбцы считанного массива по суммарной длине их строк и количеству слов в строках.
   2. Заводим две переменые для поиска слов, написанных с большой буквы: счетчик слов и строковая переменная для хранения самих строк.
      При помощи вложенных циклов перебираем все элементы массива, находим те, что начинаются с заглавной буквы.
   3. Создаем вспомогательный метод countWords для подсчета слов внутри строки.
   4. Создаем вспомогательный метод reverseString для переворота строки
   5. Создаем вспомогательный метод isPalindrome для поиска слов палиндромов
   6. Создаем вспомогательный метод removeDuplicates для удаления одинаковых элементов
   7. При помощи вложенных циклов разворачиваем элементы массива и помечаем найденные палиндромы \*
   8. При помощи вложенных списков заменяем пробелы внутри элементов на '-' и удаляем повторяющиеся элементы
3. **Вывод результата:**  
   На экран выводится количество найденных слов с большой буквы, сами слова и два отсортерованных массива.

### 5. Программа

```java
import java.io.PrintStream;
import java.util.Scanner;
public class Main {
    public static Scanner in = new Scanner(System.in);
    public static PrintStream out = System.out;
    public static void main(String[] args) {
        int n = in.nextInt(); // считываем размеры массива
        int m = in.nextInt();
        in.nextLine(); // очистка буфера ввода после считывания чисел


        String[][] a = new String[n][m]; // создаем двумерный массив строк размером N на M


        // считываем элементы массива
        for (int i = 0; i < n; i++) {        // цикл по строкам массива
            for (int j = 0; j < m; j++) {   // цикл по столбцам массива
                a[i][j] = in.nextLine(); // сохраняем в соответствующую ячейку массива
            }
        }

        // сортировка столбцов по суммарной длине строк и количеству слов
        for (int column = 0; column < m; column++) {    // цикл по каждому столбцу
            for (int nextcolumn = column + 1; nextcolumn < m; nextcolumn++) {  // цикл для сравнения текущего столбца с последующими
                int sumrow = 0, sumnextrow = 0; // переменные для хранения сумм длины строк в текущем и следующем столбце
                int countword = 0, countnextword = 0; // переменные для хранения количества слов в текущем и следующем столбцах

                for (int row = 0; row < n; row++) {  // цикл по строкам для подсчета длины и количества слов
                    sumrow += a[row][column].length(); // суммируем длину строк в текущем столбце
                    sumnextrow += a[row][nextcolumn].length(); // суммируем длину строк в следующем столбце
                    countword += countWords(a[row][column]); // считаем количество слов в текущем столбце
                    countnextword += countWords(a[row][nextcolumn]);  // считаем количество слов в следующем столбце
                }

                if ((sumrow < sumnextrow) || ((sumrow == sumnextrow) && (countword < countnextword))) {  // проверяем, нужно ли менять местами столбцы
                    // если да, меняем местами столбцы
                    for (int row = 0; row < n; row++) {   // цикл по строкам для обмена значениями между столбцами
                        String temp = a[row][column]; // временная переменная для хранения значения текущего столбца
                        a[row][column] = a[row][nextcolumn]; // переносим значение следующего столбца в текущий
                        a[row][nextcolumn] = temp; // переносим временное значение в следующий столбец
                    }
                }
            }
        }
        //подсчёт слов с заглавной буквы
        int count = 0; // переменная для хранения общего количества слов с заглавной буквы
        String capitalwords = ""; // строка для хранения найденных слов с заглавной буквы
        for (int i = 0; i < n; i++) { // цикл по строкам массива
            for (int j = 0; j < m; j++) { // цикл по столбцам массива
                String [] words = a[i][j].split("\s+"); // разделяем строку на слова по пробелам
                for (String word : words) {  // цикл по каждому слову в строке
                    if ((word.charAt(0) >= 'A') && (word.charAt(0) <= 'Z')) { // проверяем, начинается ли оно с заглавной буквы
                        count++; // увеличиваем общий счетчик слов с заглавной буквы
                        capitalwords += word + " "; // добавляем слово к строке capitalWords
                    }
                }
            }
        }

        out.println("Количество слов с заглавной буквы: " + count); // выводим общее количество найденных слов
        out.print("Слова с заглавной буквы: " + capitalwords); // выводим найденные слова

        out.println();

        // вывод элементов массива с разворотом строк и пометкой палиндромов
        for (int i = 0; i < n; i++) { // цикл по строкам массива
            for (int j = 0; j < m; j++) { // цикл по столбцам массива
                String reversed = reverseString(a[i][j]); // переворачиваем строку с помощью вспомогательного метода reverseString
                if (isPalindrome(a[i][j])) { // проверяем, является ли строка палиндромом
                    reversed += "*";  // если да, добавляем '*' к перевернутой строке
                }
                out.print(reversed + " "); // выводим перевернутую строку на экран
            }
            out.println(); // переходим на новую строку после вывода всех столбцов текущей строки массива
        }


         // замена пробелов на '-', удаление повторяющихся символов и вывод
        for (int i = 0; i < n; i++) { // цикл по строкам массива
            for (int j = 0; j < m; j++) { // цикл по столбцам массива
                String modified = a[i][j].replace(" ", "-"); // заменяем все пробелы на '-'
                modified = removeDuplicates(modified); // удаляем повторяющиеся символы с помощью вспомогательного метода removeDuplicates
                out.print(modified + " "); // выводим измененную строку на экран
            }
            out.println(); // переходим на новую строку после вывода всех столбцов текущей строки массива
        }
    }

    public static int countWords(String str) { // вспомогательный метод для подсчета количества слов в строке
        if (str.isEmpty())
            return 0;  // если строка пустая, возвращаем 0
        String[] words = str.trim().split("\s+"); // убираем лишние пробелы в начале и конце и разделяем строку на слова по пробелам
        return words.length; // возвращаем количество найденных слов
    }

    public static String reverseString(String str) { // вспомогательный метод для переворота строки
        char [] charArray = str.toCharArray(); // преобразуем строку в массив символов
        String reversed = "";  // создаем пустую строку для хранения перевернутой строки
        for (int i = charArray.length - 1; i >= 0; i--) { // проходимся по массиву символов в обратном порядке
            reversed += charArray[i]; // добавляем каждый символ к перевернутой строке
        }
        return reversed; // возвращаем перевернутую строку
    }


    public static boolean isPalindrome(String str) { // вспомогательный метод для проверки, является ли строка палиндромом
        String row = str.replaceAll("\s+", "").toLowerCase(); // убираем пробелы и приводим к нижнему регистру для сравнения
        return row.equals(reverseString(row)); // сравниваем очищенную строку с ее перевернутой версией
    }

    public static String removeDuplicates(String str) { // вспомогательный метод для удаления повторяющихся символов из строки
        String result = "";  // создаем пустую строку для хранения результата
        for (int i = 0; i < str.length(); i++) { // проходимся по каждому символу строки
            if ((result.indexOf(str.charAt(i)) == -1) || (str.charAt(i) == '-')) { // проверяем наличие символа в результате и не равен ли он "-"
                result += str.charAt(i); // если нет, добавляем его к результату
            }
        }
        return result; // возвращаем результат без дубликатов
    }
}

```

### 6. Анализ правильности решения

Программа работает корректно на всем множестве решений.

1. Тест на проверку счетчика слов с заглавной буквы:

   - **Input**:

     ````2
     ``` 2
     ``` Tyu
     ``` lkj
     ``` Xdv
     ``` Pnf

     ````

   - **Output**:

     ```Количество слов с заглавной буквы: 3

     ```

2. Тест на вывод слов с большой буквы:

   - **Input**:

     ````2
     ``` 2
     ``` Frg
     ``` lkn
     ``` Sdwq
     ``` Gfvcx

     ````

   - **Output**:

     ```Слова с заглавной буквы: Frg Sdwq Gfvcx

     ```

3. Тест на пометку палиндромов "\*":

   - **Input**:

     ````1
     ``` 1
     ``` fghhgf

     ````

   - **Output**:

     ```fghhgf*

     ```

4. Тест на удаление повторящихся символов:

   - **Input**:

     ````1
     ``` 1
     ``` fghhgf

     ````

   - **Output**:

     ```fgh

     ```

5. Тест на замену пробелов "-":

   - **Input**:

     ````1
     ``` 1
     ``` sd fg hj

     ````

   - **Output**:

     ```sd-fg-hj

     ```

6. Тест на проверку сортировки столбцов по длине строк по их длине:

   - **Input**:

     ````2
     ``` 2
     ``` tyu fgh
     ``` zxc vb
     ``` tyuio
     ``` asde

     ````

   - **Output**:

   ````hgf uyt bv cxz
   ``` oiuyt edsa

   ````

7. Тест на проверку сортировки столбцов по длине строк по их длине (с учетом одинаковой длины, но с разным количеством слов):

   - **Input**:

     ````2
     ``` 2
     ``` rt
     ``` gh
     ``` sc bn
     ``` jkmnp

     ````

   - **Output**:

   ````tr hg
   ``` nb cs pnmkj
   ````
